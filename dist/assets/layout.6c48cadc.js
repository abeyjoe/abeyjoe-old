import{r as L,I as te,j as q,k as oe,a as ne,l as D,n as B,c as r,q as z,s as W,o as ae,t as M,v as se,x as X,y as ue,z as ie,A as le}from"./index.952ebac7.js";function re(a){const u=L(),i=L();if(te){const s=new ResizeObserver(t=>{a==null||a(t,s),t.length&&(i.value=t[0].contentRect)});q(()=>{s.disconnect()}),oe(u,(t,l)=>{l&&(s.unobserve(l),i.value=void 0),t&&s.observe(t)},{flush:"post"})}return{resizeRef:u,contentRect:ne(i)}}const A=Symbol.for("vuetify:layout"),_=Symbol.for("vuetify:layout-item"),Z=1e3,fe=D({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),ye=D({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function pe(){const a=B(A);if(!a)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:a.getLayoutItem,mainRect:a.mainRect,mainStyles:a.mainStyles}}function me(a){var f;const u=B(A);if(!u)throw new Error("[Vuetify] Could not find injected layout");const i=(f=a.id)!=null?f:`layout-item-${se()}`,s=W("useLayoutItem");X(_,{id:i});const t=L(!1);ue(()=>t.value=!0),ie(()=>t.value=!1);const{layoutItemStyles:l,layoutItemScrimStyles:v}=u.register(s,{...a,active:r(()=>t.value?!1:a.active.value),id:i});return q(()=>u.unregister(i)),{layoutItemStyles:l,layoutRect:u.layoutRect,layoutItemScrimStyles:v}}const ce=(a,u,i,s)=>{let t={top:0,left:0,right:0,bottom:0};const l=[{id:"",layer:{...t}}];for(const v of a){const f=u.get(v),g=i.get(v),$=s.get(v);if(!f||!g||!$)continue;const h={...t,[f.value]:parseInt(t[f.value],10)+($.value?parseInt(g.value,10):0)};l.push({id:v,layer:h}),t=h}return l};function ge(a){const u=B(A,null),i=r(()=>u?u.rootZIndex.value-100:Z),s=L([]),t=z(new Map),l=z(new Map),v=z(new Map),f=z(new Map),g=z(new Map),{resizeRef:$,contentRect:h}=re(),F=r(()=>{var e;const o=new Map,c=(e=a.overlaps)!=null?e:[];for(const p of c.filter(n=>n.includes(":"))){const[n,d]=p.split(":");if(!s.value.includes(n)||!s.value.includes(d))continue;const m=t.get(n),S=t.get(d),R=l.get(n),O=l.get(d);!m||!S||!R||!O||(o.set(d,{position:m.value,amount:parseInt(R.value,10)}),o.set(n,{position:S.value,amount:-parseInt(O.value,10)}))}return o}),I=r(()=>{const o=[...new Set([...v.values()].map(e=>e.value))].sort((e,p)=>e-p),c=[];for(const e of o){const p=s.value.filter(n=>{var d;return((d=v.get(n))==null?void 0:d.value)===e});c.push(...p)}return ce(c,t,l,f)}),H=r(()=>!Array.from(g.values()).some(o=>o.value)),b=r(()=>I.value[I.value.length-1].layer),Y=r(()=>({"--v-layout-left":M(b.value.left),"--v-layout-right":M(b.value.right),"--v-layout-top":M(b.value.top),"--v-layout-bottom":M(b.value.bottom),...H.value?void 0:{transition:"none"}})),x=r(()=>I.value.slice(1).map((o,c)=>{let{id:e}=o;const{layer:p}=I.value[c],n=l.get(e),d=t.get(e);return{id:e,...p,size:Number(n.value),position:d.value}})),N=o=>x.value.find(c=>c.id===o),C=W("createLayout"),T=L(!1);ae(()=>{T.value=!0}),X(A,{register:(o,c)=>{let{id:e,order:p,position:n,layoutSize:d,elementSize:m,active:S,disableTransitions:R,absolute:O}=c;v.set(e,p),t.set(e,n),l.set(e,d),f.set(e,S),R&&g.set(e,R);const K=le(_,C==null?void 0:C.vnode).indexOf(o);K>-1?s.value.splice(K,0,e):s.value.push(e);const U=r(()=>x.value.findIndex(w=>w.id===e)),E=r(()=>i.value+I.value.length*2-U.value*2),Q=r(()=>{const w=n.value==="left"||n.value==="right",P=n.value==="right",ee=n.value==="bottom",V={[n.value]:0,zIndex:E.value,transform:`translate${w?"X":"Y"}(${(S.value?0:-110)*(P||ee?-1:1)}%)`,position:O.value||i.value!==Z?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(!T.value)return V;const y=x.value[U.value];if(!y)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const j=F.value.get(e);return j&&(y[j.position]+=j.amount),{...V,height:w?`calc(100% - ${y.top}px - ${y.bottom}px)`:m.value?`${m.value}px`:void 0,left:P?void 0:`${y.left}px`,right:P?`${y.right}px`:void 0,top:n.value!=="bottom"?`${y.top}px`:void 0,bottom:n.value!=="top"?`${y.bottom}px`:void 0,width:w?m.value?`${m.value}px`:void 0:`calc(100% - ${y.left}px - ${y.right}px)`}}),k=r(()=>({zIndex:E.value-1}));return{layoutItemStyles:Q,layoutItemScrimStyles:k,zIndex:E}},unregister:o=>{v.delete(o),t.delete(o),l.delete(o),f.delete(o),g.delete(o),s.value=s.value.filter(c=>c!==o)},mainRect:b,mainStyles:Y,getLayoutItem:N,items:x,layoutRect:h,rootZIndex:i});const G=r(()=>["v-layout",{"v-layout--full-height":a.fullHeight}]),J=r(()=>({zIndex:i.value,position:u?"relative":void 0,overflow:u?"hidden":void 0}));return{layoutClasses:G,layoutStyles:J,getLayoutItem:N,items:x,layoutRect:h,layoutRef:$}}export{re as a,ye as b,ge as c,me as d,fe as m,pe as u};
